{"version":3,"sources":["../../../../units/rb-appdrawer-webapp/components/AppFrame.jsx"],"names":["drawerWidth","styles","theme","html","boxSizing","body","margin","background","palette","default","color","text","primary","lineHeight","overflowX","WebkitFontSmoothing","MozOsxFontSmoothing","img","maxWidth","height","width","root","zIndex","overflow","appFrame","position","display","menuButton","breakpoints","down","marginLeft","marginTop","between","up","drawerInner","drawerHeader","alignItems","justifyContent","padding","mixins","toolbar","drawerPaper","titlePrefix","process","env","NODE_ENV","AppFrame","React","Component","constructor","props","context","_handle_Drawer_Open","setState","drawerIsOpen","_handle_Drawer_Close","_handle_GoTo","to","router","push","setTitle","title","clearTitle","NavBarDefaultTitle","state","render","children","classes","Viewer"],"mappings":"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","sourcesContent":["// @flow\n\nimport Drawer from '@material-ui/core/Drawer'\n\nimport Fab from '@material-ui/core/Fab'\n\nimport { withStyles } from '@material-ui/core/styles'\n\nimport { withRouter } from 'found'\nimport IconMenu from 'mdi-material-ui/Menu'\nimport React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport AppDrawerNavItems from '../../_configuration/rb-appdrawer-webapp/AppDrawerNavItems'\nimport AppDrawerTitle from '../../_configuration/rb-appdrawer-webapp/AppDrawerTitle'\nimport NavBarDefaultTitle from '../../_configuration/rb-appdrawer-webapp/NavBarDefaultTitle'\n\nimport AppFrameContext from './AppFrameContext'\n\nconst drawerWidth = 240\n\nconst styles = (theme) => ({\n  '@global': {\n    html: {\n      boxSizing: 'border-box',\n    },\n    '*, *:before, *:after': {\n      boxSizing: 'inherit',\n    },\n    body: {\n      margin: 0,\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      lineHeight: '1.2',\n      overflowX: 'hidden',\n      WebkitFontSmoothing: 'antialiased', // Antialiasing.\n      MozOsxFontSmoothing: 'grayscale', // Antialiasing.\n    },\n    img: {\n      maxWidth: '100%',\n      height: 'auto',\n      width: 'auto',\n    },\n  },\n  root: {\n    width: '100%',\n    height: '100vh',\n    zIndex: 1,\n    overflow: 'hidden',\n  },\n  appFrame: {\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n  menuButton: {\n    position: 'absolute',\n    zIndex: 1199, // Drawer is 1200\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: 4,\n      marginTop: 4,\n    },\n    [theme.breakpoints.between('sm', 'lg')]: {\n      marginLeft: 8,\n      marginTop: 8,\n    },\n    [theme.breakpoints.up('lg')]: {\n      marginLeft: 12,\n      marginTop: 12,\n    },\n  },\n\n  drawerInner: {\n    // Make the items inside not wrap when transitioning:\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  drawerPaper: {\n    position: 'relative',\n    height: '100%',\n    width: drawerWidth,\n  },\n})\n\nconst titlePrefix = process.env.NODE_ENV === 'production' ? '' : '<DEV> '\n\nclass AppFrame extends React.Component<\n  { children?: any, classes: Object, router: Object, Viewer: Object },\n  {\n    drawerIsOpen: boolean,\n    title: string,\n  },\n> {\n  constructor(props: Object, context: Object) {\n    super(props, context)\n\n    this.state = {\n      drawerIsOpen: false,\n      title: titlePrefix + NavBarDefaultTitle,\n    }\n  }\n\n  _handle_Drawer_Open = () => {\n    this.setState({ drawerIsOpen: true })\n  }\n\n  _handle_Drawer_Close = () => {\n    this.setState({ drawerIsOpen: false })\n  }\n\n  _handle_GoTo = (to: string) => {\n    this.setState({ drawerIsOpen: false })\n\n    this.props.router.push(to)\n  }\n\n  setTitle = (title: string) => {\n    this.setState({ title: titlePrefix + title })\n  }\n\n  clearTitle = () => {\n    this.setState({ title: titlePrefix + NavBarDefaultTitle })\n  }\n\n  render() {\n    const { setTitle, clearTitle } = this\n    const { children, classes, Viewer } = this.props\n    const { drawerIsOpen, title } = this.state\n\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <title>{title}</title>\n        </Helmet>\n\n        <div className={classes.appFrame}>\n          <Fab\n            aria-label=\"open drawer\"\n            className={classes.menuButton}\n            color=\"primary\"\n            size=\"small\"\n            onClick={this._handle_Drawer_Open}\n          >\n            <IconMenu />\n          </Fab>\n\n          <Drawer open={drawerIsOpen} onClose={this._handle_Drawer_Close}>\n            <div className={classes.drawerInner}>\n              <div className={classes.drawerHeader}>\n                <AppDrawerTitle handle_GoTo={this._handle_GoTo} />\n              </div>\n            </div>\n\n            <AppDrawerNavItems Viewer={Viewer} onClick={this._handle_GoTo} />\n          </Drawer>\n\n          <AppFrameContext.Provider value={{ setTitle, clearTitle }}>\n            {children}\n          </AppFrameContext.Provider>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(\n  withStyles(styles)(withRouter(AppFrame)),\n  {\n    Viewer: graphql`\n      fragment AppFrame_Viewer on Viewer {\n        UserToken2\n        ...AppDrawerNavItems_Viewer\n      }\n    `,\n  },\n)\n"],"file":"AppFrame.js"}