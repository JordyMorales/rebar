{"version":3,"sources":["../../../../units/urb-example-ensayo-webapp/components/EnsayoInPlaceEditItem.jsx"],"names":["EnsayoInPlaceEditItem","React","Component","constructor","props","context","_handle_Update_Properties","EnsayoInPlaceEditProperties","Ensayo_Title","Ensayo_Description","Ensayo_Content","relay","Ensayo","EnsayoUpdateMutation","commit","environment","_handle_Close_Properties","setState","propertiesIsOpen","handleClickListItem","event","menuIsOpen","anchorEl","currentTarget","_handle_Menu_onClick_Edit","_handle_Menu_onClick_Delete","Viewer","EnsayoDeleteMutation","handleRequestClose","state","undefined","render"],"mappings":";;AAEA,sD;;AAEA,8D;;AAEA,8C;;AAEA,sD;;AAEA,8B;AACA;;AAEA,kG;AACA,kG;;AAEA,4E;;AAEA,MAAMA,qBAAN,SAAoCC,gBAAMC;;;;;;;;;;;AAWxC;AACAC,cAAaC,KAAb,EAA4BC,OAA5B,EAA8C;AAC5C,UAAOD,KAAP,EAAcC,OAAd,EAD4C;;;;;;;;;AAU9CC,6BAV8C,GAUlBC,+BAA+B;AACzD,YAAM,EAAEC,YAAF,EAAgBC,kBAAhB,EAAoCC,cAApC,KAAuDH,2BAA7D;AACA,YAAM,EAAEI,KAAF,EAASC,MAAT,KAAoB,KAAKR,KAA/B;;AAEAS,qCAAqBC,MAArB;AACEH,YAAMI,WADR;AAEEH,YAFF;AAGEJ,kBAHF;AAIEC,wBAJF;AAKEC,oBALF;;AAOD,KArB6C;;AAuB9CM,4BAvB8C,GAuBnB,MAAM;AAC/B,WAAKC,QAAL,CAAc,EAAEC,kBAAkB,KAApB,EAAd;AACD,KAzB6C;;AA2B9CC,uBA3B8C,GA2BxBC,SAAS;AAC7B,WAAKH,QAAL,CAAc,EAAEI,YAAY,IAAd,EAAoBC,UAAUF,MAAMG,aAApC,EAAd;AACD,KA7B6C;;AA+B9CC,6BA/B8C,GA+BlBJ,SAAS;AACnC,WAAKH,QAAL,CAAc,EAAEI,YAAY,KAAd,EAAqBH,kBAAkB,IAAvC,EAAd;AACD,KAjC6C;;AAmC9CO,+BAnC8C,GAmChBL,SAAS;AACrC,WAAKH,QAAL,CAAc,EAAEI,YAAY,KAAd,EAAd;;AAEA,YAAM,EAAEV,KAAF,EAASe,MAAT,EAAiBd,MAAjB,KAA4B,KAAKR,KAAvC;;AAEAuB,qCAAqBb,MAArB,CAA6BH,MAAMI,WAAnC,EAAgDW,MAAhD,EAAwDd,MAAxD;AACD,KAzC6C;;AA2C9CgB,sBA3C8C,GA2CzB,MAAM;AACzB,WAAKX,QAAL,CAAc,EAAEI,YAAY,KAAd,EAAd;AACD,KA7C6C,CAG5C,KAAKQ,KAAL,GAAa,EACXP,UAAUQ,SADC,EAEXT,YAAY,KAFD,EAGXH,kBAAkB,KAHP,EAAb,CAKD;;AAuCDa,WAAS;AACP,UAAM,EAAEvB,YAAF,EAAgBC,kBAAhB,EAAoCC,cAApC,KAAuD,KAAKN,KAAL,CAAWQ,MAAxE;AACA,UAAM,EAAEM,gBAAF,KAAuB,KAAKW,KAAlC;;AAEA;AACE;AACE,sCAAC,kBAAD;AACE,wBADF;AAEE,6BAAc,MAFhB;AAGE,6BAAc,WAHhB;AAIE,qBAAS,KAAKV,mBAJhB;;AAME,wCAAC,sBAAD,IAAc,SAASX,YAAvB,EAAqC,WAAWC,kBAAhD,GANF,CADF;;AASE,sCAAC,cAAD;AACE,gBAAG,WADL;AAEE,sBAAU,KAAKoB,KAAL,CAAWP,QAFvB;AAGE,kBAAM,KAAKO,KAAL,CAAWR,UAHnB;AAIE,qBAAS,KAAKO,kBAJhB;;AAME,wCAAC,kBAAD,IAAU,KAAI,MAAd,EAAqB,SAASR,SAAS,KAAKI,yBAAL,CAAgCJ,KAAhC,CAAvC,WANF;;;AASE,wCAAC,kBAAD,IAAU,KAAI,QAAd,EAAuB,SAASA,SAAS,KAAKK,2BAAL,CAAkCL,KAAlC,CAAzC,aATF,CATF;;;;AAsBGF;AACC,sCAAC,qCAAD;AACE,wBAAcV,YADhB;AAEE,8BAAoBC,kBAFtB;AAGE,0BAAgBC,cAHlB;AAIE,yBAAe,KAAKJ,yBAJtB;AAKE,wBAAc,KAAKU,wBALrB,GAvBJ,CADF;;;;;AAkCD,GAtFD,C;;;AAyFa,yCAAyBhB,qBAAzB,EAAgD;AAC7D0B,+FAD6D;;;;;AAM7Dd,+FAN6D,EAAhD,C","file":"EnsayoInPlaceEditItem.js","sourcesContent":["// @flow\n\nimport ListItem from '@material-ui/core/ListItem'\n\nimport ListItemText from '@material-ui/core/ListItemText'\n\nimport Menu from '@material-ui/core/Menu'\n\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport React from 'react'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport EnsayoDeleteMutation from '../../urb-example-ensayo-client/relay/EnsayoDeleteMutation'\nimport EnsayoUpdateMutation from '../../urb-example-ensayo-client/relay/EnsayoUpdateMutation'\n\nimport EnsayoInPlaceEditProperties from './EnsayoInPlaceEditProperties'\n\nclass EnsayoInPlaceEditItem extends React.Component<\n  {\n    Viewer: Object,\n    Ensayo: Object,\n    relay: Object,\n  },\n  {\n    anchorEl: ?Object,\n    menuIsOpen: boolean,\n    propertiesIsOpen: boolean,\n  },\n> {\n  constructor( props: Object, context: Object ) {\n    super( props, context )\n\n    this.state = {\n      anchorEl: undefined,\n      menuIsOpen: false,\n      propertiesIsOpen: false,\n    }\n  }\n\n  _handle_Update_Properties = EnsayoInPlaceEditProperties => {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = EnsayoInPlaceEditProperties\n    const { relay, Ensayo } = this.props\n\n    EnsayoUpdateMutation.commit(\n      relay.environment,\n      Ensayo,\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    )\n  }\n\n  _handle_Close_Properties = () => {\n    this.setState({ propertiesIsOpen: false })\n  }\n\n  handleClickListItem = event => {\n    this.setState({ menuIsOpen: true, anchorEl: event.currentTarget })\n  }\n\n  _handle_Menu_onClick_Edit = event => {\n    this.setState({ menuIsOpen: false, propertiesIsOpen: true })\n  }\n\n  _handle_Menu_onClick_Delete = event => {\n    this.setState({ menuIsOpen: false })\n\n    const { relay, Viewer, Ensayo } = this.props\n\n    EnsayoDeleteMutation.commit( relay.environment, Viewer, Ensayo )\n  }\n\n  handleRequestClose = () => {\n    this.setState({ menuIsOpen: false })\n  }\n\n  render() {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = this.props.Ensayo\n    const { propertiesIsOpen } = this.state\n\n    return (\n      <div>\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          onClick={this.handleClickListItem}\n        >\n          <ListItemText primary={Ensayo_Title} secondary={Ensayo_Description} />\n        </ListItem>\n        <Menu\n          id=\"lock-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.menuIsOpen}\n          onClose={this.handleRequestClose}\n        >\n          <MenuItem key=\"edit\" onClick={event => this._handle_Menu_onClick_Edit( event )}>\n            Edit\n          </MenuItem>\n          <MenuItem key=\"delete\" onClick={event => this._handle_Menu_onClick_Delete( event )}>\n            Delete\n          </MenuItem>\n        </Menu>\n        {propertiesIsOpen && (\n          <EnsayoInPlaceEditProperties\n            Ensayo_Title={Ensayo_Title}\n            Ensayo_Description={Ensayo_Description}\n            Ensayo_Content={Ensayo_Content}\n            handlerUpdate={this._handle_Update_Properties}\n            handlerClose={this._handle_Close_Properties}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer( EnsayoInPlaceEditItem, {\n  Viewer: graphql`\n    fragment EnsayoInPlaceEditItem_Viewer on Viewer {\n      id\n    }\n  `,\n  Ensayo: graphql`\n    fragment EnsayoInPlaceEditItem_Ensayo on Ensayo {\n      id\n      Ensayo_Title\n      Ensayo_Description\n      Ensayo_Content\n    }\n  `,\n})\n"]}