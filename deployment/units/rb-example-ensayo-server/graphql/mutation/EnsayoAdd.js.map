{"version":3,"sources":["../../../../../units/rb-example-ensayo-server/graphql/mutation/EnsayoAdd.js"],"names":["name","inputFields","Ensayo_Title","type","GraphQLNonNull","GraphQLString","Ensayo_Description","Ensayo_Content","outputFields","EnsayosEdge","EnsayosConnection","edgeType","resolve","local_id","args","context","rootValue","objectManager","an_Object","getOneObject_async","id","arr","getObjectList_async","cursor","cursorForObjectInConnection","node","Viewer","ViewerType","parent","getViewerUserId","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA;AACA,iH,8FANA;;AAQe,gDAA6B;AAC1CA,EAAAA,IAAI,EAAE,WADoC;;AAG1CC,EAAAA,WAAW,EAAE;AACXC,IAAAA,YAAY,EAAE,EAAEC,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EADH;AAEXC,IAAAA,kBAAkB,EAAE,EAAEH,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAFT;AAGXE,IAAAA,cAAc,EAAE,EAAEJ,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAHL,EAH6B;;;AAS1CG,EAAAA,YAAY,EAAE;AACZC,IAAAA,WAAW,EAAE;AACXN,MAAAA,IAAI,EAAEO,2BAAkBC,QADb;AAEXC,MAAAA,OAAO,EAAE,OAAM,EAAEC,QAAF,EAAN,EAAoB,EAAE,GAAGC,IAAL,EAApB,EAAiCC,OAAjC,EAA0C,EAAEC,SAAS,EAAEC,aAAb,EAA1C,KAA2E;AAClF,cAAMC,SAAS,GAAG,MAAMD,aAAa,CAACE,kBAAd,CAAkC,QAAlC,EAA4C;AAClEC,UAAAA,EAAE,EAAEP,QAD8D,EAA5C,CAAxB;;;AAIA,cAAMQ,GAAG,GAAG,MAAMJ,aAAa,CAACK,mBAAd,CAAmC,QAAnC,EAA6C,EAA7C,CAAlB;;AAEA,eAAO;AACLC,UAAAA,MAAM,EAAEN,aAAa,CAACO,2BAAd,CAA2C,QAA3C,EAAqDH,GAArD,EAA0DH,SAA1D,CADH;AAELO,UAAAA,IAAI,EAAEP,SAFD,EAAP;;AAID,OAbU,EADD;;;AAiBZQ,IAAAA,MAAM,EAAE;AACNvB,MAAAA,IAAI,EAAEwB,mBADA;AAENf,MAAAA,OAAO,EAAE,CAAEgB,MAAF,EAAUd,IAAV,EAAgBC,OAAhB,EAAyB,EAAEC,SAAS,EAAEC,aAAb,EAAzB;AACPA,MAAAA,aAAa,CAACE,kBAAd,CAAkC,MAAlC,EAA0C;AACxCC,QAAAA,EAAE,EAAEH,aAAa,CAACY,eAAd,EADoC,EAA1C,CAHI,EAjBI,EAT4B;;;;;AAmC1CC,EAAAA,mBAAmB,EAAE;AACnB,IAAE5B,YAAF,EAAgBI,kBAAhB,EAAoCC,cAApC,EADmB;AAEnBQ,EAAAA,OAFmB;AAGnB,IAAEC,SAAS,EAAEC,aAAb,EAHmB;AAIhB;AACH,UAAMJ,QAAQ,GAAG,MAAMI,aAAa,CAACc,GAAd,CAAmB,QAAnB,EAA6B;AAClD7B,MAAAA,YADkD;AAElDI,MAAAA,kBAFkD;AAGlDC,MAAAA,cAHkD,EAA7B,CAAvB;;AAKA,WAAO,EAAEM,QAAF,EAAP;AACD,GA9CyC,EAA7B,C","sourcesContent":["// @flow weak\n\nimport { mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport EnsayosConnection from '../type/EnsayosConnection'\nimport ViewerType from '../../../../units/rb-appbase-server/graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'EnsayoAdd',\n\n  inputFields: {\n    Ensayo_Title: { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Description: { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Content: { type: new GraphQLNonNull( GraphQLString ) },\n  },\n\n  outputFields: {\n    EnsayosEdge: {\n      type: EnsayosConnection.edgeType,\n      resolve: async({ local_id }, { ...args }, context, { rootValue: objectManager }) => {\n        const an_Object = await objectManager.getOneObject_async( 'Ensayo', {\n          id: local_id,\n        })\n\n        const arr = await objectManager.getObjectList_async( 'Ensayo', {})\n\n        return {\n          cursor: objectManager.cursorForObjectInConnection( 'Ensayo', arr, an_Object ),\n          node: an_Object,\n        }\n      },\n    },\n\n    Viewer: {\n      type: ViewerType,\n      resolve: ( parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject_async( 'User', {\n          id: objectManager.getViewerUserId(),\n        }),\n    },\n  },\n\n  mutateAndGetPayload: async(\n    { Ensayo_Title, Ensayo_Description, Ensayo_Content },\n    context,\n    { rootValue: objectManager },\n  ) => {\n    const local_id = await objectManager.add( 'Ensayo', {\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    })\n    return { local_id }\n  },\n})\n"],"file":"EnsayoAdd.js"}