{"version":3,"sources":["../../../../../units/rb-example-translaticiarum-server/graphql/mutation/TranslaticiarumDelete.js"],"names":["name","inputFields","id","type","GraphQLNonNull","GraphQLID","outputFields","deletedId","resolve","Viewer","ViewerType","parent","args","context","rootValue","objectManager","getOneObject_async","getViewerUserId","mutateAndGetPayload","local_id","remove"],"mappings":";;AAEA;AACA;;AAEA,iH,8FALA;;AAOe,gDAA6B;AAC1CA,EAAAA,IAAI,EAAE,uBADoC;;AAG1CC,EAAAA,WAAW,EAAE;AACXC,IAAAA,EAAE,EAAE,EAAEC,IAAI,EAAE,IAAIC,uBAAJ,CAAmBC,kBAAnB,CAAR,EADO,EAH6B;;;AAO1CC,EAAAA,YAAY,EAAE;AACZC,IAAAA,SAAS,EAAE;AACTJ,MAAAA,IAAI,EAAEE,kBADG;AAETG,MAAAA,OAAO,EAAE,CAAC,EAAEN,EAAF,EAAD,KAAYA,EAFZ,EADC;;;AAMZO,IAAAA,MAAM,EAAE;AACNN,MAAAA,IAAI,EAAEO,mBADA;AAENF,MAAAA,OAAO,EAAE,CAACG,MAAD,EAASC,IAAT,EAAeC,OAAf,EAAwB,EAAEC,SAAS,EAAEC,aAAb,EAAxB;AACPA,MAAAA,aAAa,CAACC,kBAAd,CAAiC,MAAjC,EAAyC;AACvCd,QAAAA,EAAE,EAAEa,aAAa,CAACE,eAAd,EADmC,EAAzC,CAHI,EANI,EAP4B;;;;;AAsB1CC,EAAAA,mBAAmB,EAAE;AACnB,IAAEhB,EAAF,EADmB;AAEnBW,EAAAA,OAFmB;AAGnB,IAAEC,SAAS,EAAEC,aAAb,EAHmB;AAIhB;AACH,UAAMI,QAAQ,GAAG,gCAAajB,EAAb,EAAiBA,EAAlC;;AAEA,UAAMa,aAAa,CAACK,MAAd,CAAqB,iBAArB,EAAwC,EAAElB,EAAE,EAAEiB,QAAN,EAAxC,CAAN;;AAEA,WAAO,EAAEjB,EAAF,EAAP;AACD,GAhCyC,EAA7B,C","sourcesContent":["// @flow weak\n\nimport { fromGlobalId, mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLID, GraphQLNonNull } from 'graphql'\n\nimport ViewerType from '../../../../units/rb-appbase-server/graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'TranslaticiarumDelete',\n\n  inputFields: {\n    id: { type: new GraphQLNonNull(GraphQLID) },\n  },\n\n  outputFields: {\n    deletedId: {\n      type: GraphQLID,\n      resolve: ({ id }) => id,\n    },\n\n    Viewer: {\n      type: ViewerType,\n      resolve: (parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject_async('User', {\n          id: objectManager.getViewerUserId(),\n        }),\n    },\n  },\n\n  mutateAndGetPayload: async (\n    { id },\n    context,\n    { rootValue: objectManager },\n  ) => {\n    const local_id = fromGlobalId(id).id\n\n    await objectManager.remove('Translaticiarum', { id: local_id })\n\n    return { id }\n  },\n})\n"],"file":"TranslaticiarumDelete.js"}