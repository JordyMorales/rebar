{"version":3,"sources":["../../../../units/rb-example-ensayo-webapp/components/EnsayoInPlaceEditItem.jsx"],"names":["EnsayoInPlaceEditItem","React","Component","constructor","props","context","_handle_Update_Properties","EnsayoInPlaceEditProperties","Ensayo_Title","Ensayo_Description","Ensayo_Content","relay","Ensayo","EnsayoUpdateMutation","commit","environment","_handle_Close_Properties","setState","propertiesIsOpen","handleClickListItem","event","menuIsOpen","anchorEl","currentTarget","_handle_Menu_onClick_Edit","_handle_Menu_onClick_Delete","Viewer","EnsayoDeleteMutation","handleRequestClose","state","undefined","render"],"mappings":"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","sourcesContent":["// @flow\n\nimport ListItem from '@material-ui/core/ListItem'\n\nimport ListItemText from '@material-ui/core/ListItemText'\n\nimport Menu from '@material-ui/core/Menu'\n\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport React from 'react'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport EnsayoDeleteMutation from '../../rb-example-ensayo-client/relay/EnsayoDeleteMutation'\nimport EnsayoUpdateMutation from '../../rb-example-ensayo-client/relay/EnsayoUpdateMutation'\n\nimport EnsayoInPlaceEditProperties from './EnsayoInPlaceEditProperties'\n\nclass EnsayoInPlaceEditItem extends React.Component<\n  {\n    Viewer: Object,\n    Ensayo: Object,\n    relay: Object,\n  },\n  {\n    anchorEl: ?Object,\n    menuIsOpen: boolean,\n    propertiesIsOpen: boolean,\n  },\n> {\n  constructor( props: Object, context: Object ) {\n    super( props, context )\n\n    this.state = {\n      anchorEl: undefined,\n      menuIsOpen: false,\n      propertiesIsOpen: false,\n    }\n  }\n\n  _handle_Update_Properties = EnsayoInPlaceEditProperties => {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = EnsayoInPlaceEditProperties\n    const { relay, Ensayo } = this.props\n\n    EnsayoUpdateMutation.commit(\n      relay.environment,\n      Ensayo,\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    )\n  }\n\n  _handle_Close_Properties = () => {\n    this.setState({ propertiesIsOpen: false })\n  }\n\n  handleClickListItem = event => {\n    this.setState({ menuIsOpen: true, anchorEl: event.currentTarget })\n  }\n\n  _handle_Menu_onClick_Edit = event => {\n    this.setState({ menuIsOpen: false, propertiesIsOpen: true })\n  }\n\n  _handle_Menu_onClick_Delete = event => {\n    this.setState({ menuIsOpen: false })\n\n    const { relay, Viewer, Ensayo } = this.props\n\n    EnsayoDeleteMutation.commit( relay.environment, Viewer, Ensayo )\n  }\n\n  handleRequestClose = () => {\n    this.setState({ menuIsOpen: false })\n  }\n\n  render() {\n    const { Ensayo_Title, Ensayo_Description, Ensayo_Content } = this.props.Ensayo\n    const { propertiesIsOpen } = this.state\n\n    return (\n      <div>\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          onClick={this.handleClickListItem}\n        >\n          <ListItemText primary={Ensayo_Title} secondary={Ensayo_Description} />\n        </ListItem>\n        <Menu\n          id=\"lock-menu\"\n          anchorEl={this.state.anchorEl}\n          open={this.state.menuIsOpen}\n          onClose={this.handleRequestClose}\n        >\n          <MenuItem key=\"edit\" onClick={event => this._handle_Menu_onClick_Edit( event )}>\n            Edit\n          </MenuItem>\n          <MenuItem key=\"delete\" onClick={event => this._handle_Menu_onClick_Delete( event )}>\n            Delete\n          </MenuItem>\n        </Menu>\n        {propertiesIsOpen && (\n          <EnsayoInPlaceEditProperties\n            Ensayo_Title={Ensayo_Title}\n            Ensayo_Description={Ensayo_Description}\n            Ensayo_Content={Ensayo_Content}\n            handlerUpdate={this._handle_Update_Properties}\n            handlerClose={this._handle_Close_Properties}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer( EnsayoInPlaceEditItem, {\n  Viewer: graphql`\n    fragment EnsayoInPlaceEditItem_Viewer on Viewer {\n      id\n    }\n  `,\n  Ensayo: graphql`\n    fragment EnsayoInPlaceEditItem_Ensayo on Ensayo {\n      id\n      Ensayo_Title\n      Ensayo_Description\n      Ensayo_Content\n    }\n  `,\n})\n"],"file":"EnsayoInPlaceEditItem.js"}