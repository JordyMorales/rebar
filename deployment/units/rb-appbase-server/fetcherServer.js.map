{"version":3,"sources":["../../../units/rb-appbase-server/fetcherServer.js"],"names":["FetcherServer","FetcherBase","constructor","url","UserToken1","UserToken2","payloads","fetch","args","ix","length","push","payload","toJSON"],"mappings":";;AAEA,0F;;AAEe,MAAMA,aAAN,SAA4BC,oBAA5B,CAAwC;;;AAGrDC,EAAAA,WAAW,CAAEC,GAAF,EAAeC,UAAf,EAAoCC,UAApC,EAAyD;AAClE,UAAOF,GAAP,EAAYC,UAAZ,EAAwBC,UAAxB;;AAEA,SAAKC,QAAL,GAAgB,EAAhB;AACD;;AAED,QAAMC,KAAN,CAAa,GAAGC,IAAhB,EAA4B;AAC1B,UAAMC,EAAE,GAAG,KAAKH,QAAL,CAAcI,MAAzB;AACA,SAAKJ,QAAL,CAAcK,IAAd,CAAoB,IAApB;;AAEA,UAAMC,OAAO,GAAG,MAAM,MAAML,KAAN,CAAa,GAAGC,IAAhB,CAAtB;;AAEA,SAAKF,QAAL,CAAcG,EAAd,IAAoBG,OAApB;AACA,WAAOA,OAAP;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WAAO,KAAKP,QAAZ;AACD,GArBoD,C","sourcesContent":["// @flow\n\nimport FetcherBase from '../rb-appbase-universal/fetcherBase'\n\nexport default class FetcherServer extends FetcherBase {\n  payloads: Array<any>\n\n  constructor( url: string, UserToken1: ?string, UserToken2: string ) {\n    super( url, UserToken1, UserToken2 )\n\n    this.payloads = []\n  }\n\n  async fetch( ...args: any ) {\n    const ix = this.payloads.length\n    this.payloads.push( null )\n\n    const payload = await super.fetch( ...args )\n\n    this.payloads[ix] = payload\n    return payload\n  }\n\n  toJSON() {\n    return this.payloads\n  }\n}\n"],"file":"fetcherServer.js"}