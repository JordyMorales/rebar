{"version":3,"sources":["../../../units/rb-appbase-server/defaultRequestLoggerGraphQL.js"],"names":["defaultRequestLoggerGraphQL","req","clientIP","userSession","logLevel","debugWriteToLogServerRequestGraphQL"],"mappings":";;AAEA;AACA;AACA,yF,8FAJA;;AAMe,SAASA,2BAAT,CAAqC,EAAEC,GAAF,EAAOC,QAAP,EAAiBC,WAAjB,EAArC,EAAqE;AAClF,MAAIC,QAAQ,GAAG,IAAf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,2BAAa,EAAEH,GAAF,EAAOC,QAAP,EAAiBC,WAAjB,EAAb,EAA6CE,0CAA7C,CAAL,EAA0F;AACxFD,IAAAA,QAAQ,GAAG,MAAX;AACD;;AAED,MAAKA,QAAL,EAAgB;AACd,sBAAKA,QAAL,EAAe,mCAAf,EAAoD,EAAEH,GAAF,EAAOC,QAAP,EAAiBC,WAAjB,EAApD;AACD;AACF","sourcesContent":["// @flow weak\n\nimport { debugWriteToLogServerRequestGraphQL } from '../_configuration/debug'\nimport log from '../rb-base-server/log'\nimport matchInDepth from '../rb-base-universal/matchInDepth'\n\nexport default function defaultRequestLoggerGraphQL({ req, clientIP, userSession }) {\n  let logLevel = null\n\n  // TODO: [2 Crossroads][server] Audit errors for Auth and decide which ones to log. For instasnce, 401 is a bad idea.\n  // // If there is an error, log it as an error\n  // if( requestAndResponse.response.indexOf( '\"errors\": [' ) > 0 )\n  //   logLevel = 'error'\n  // Otherwise, if it is a trace, log it as info\n  //else\n  if ( matchInDepth({ req, clientIP, userSession }, debugWriteToLogServerRequestGraphQL ) ) {\n    logLevel = 'info'\n  }\n\n  if ( logLevel ) {\n    log( logLevel, 'rb-appbase-server GraphQL request', { req, clientIP, userSession })\n  }\n}\n"],"file":"defaultRequestLoggerGraphQL.js"}