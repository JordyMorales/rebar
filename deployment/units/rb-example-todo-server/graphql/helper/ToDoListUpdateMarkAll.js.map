{"version":3,"sources":["../../../../../units/rb-example-todo-server/graphql/helper/ToDoListUpdateMarkAll.js"],"names":["ToDoListUpdateMarkAll","objectManager","ToDo_CompleteNew","arr","getObjectList","arr_filtered","filter","a_ToDo","ToDo_Complete","arrPromiseToUpdate","map","update","id","arr_local_ids_Changed_ToDos","Promise","all"],"mappings":"qGAAA;;AAEgCA,qB,GAAf,eAAeA,qBAAf,CAAsCC,aAAtC,EAAqDC,gBAArD,EAAwE;AACvF,QAAMC,GAAG,GAAG,MAAMF,aAAa,CAACG,aAAd,CAA6B,MAA7B,EAAqC,EAArC,CAAlB;;AAEA,QAAMC,YAAY,GAAGF,GAAG,CAACG,MAAJ,CAAYC,MAAM,IAAIA,MAAM,CAACC,aAAP,KAAyBN,gBAA/C,CAArB;;AAEA,QAAMO,kBAAkB,GAAGJ,YAAY,CAACK,GAAb,CAAkBH,MAAM;AACjDN,EAAAA,aAAa,CAACU,MAAd,CAAsB,MAAtB,EAA8B;AAC5BC,IAAAA,EAAE,EAAEL,MAAM,CAACK,EADiB;AAE5BJ,IAAAA,aAAa,EAAEN,gBAFa,EAA9B,CADyB,CAA3B;;;;AAOA,QAAMW,2BAA2B,GAAGR,YAAY,CAACK,GAAb,CAAkBH,MAAM,IAAIA,MAAM,CAACK,EAAnC,CAApC;;AAEA,QAAME,OAAO,CAACC,GAAR,CAAaN,kBAAb,CAAN;;AAEA,SAAOI,2BAAP;AACD,C","sourcesContent":["// @flow weak\n\nexport default ( async function ToDoListUpdateMarkAll( objectManager, ToDo_CompleteNew ) {\n  const arr = await objectManager.getObjectList( 'ToDo', {})\n\n  const arr_filtered = arr.filter( a_ToDo => a_ToDo.ToDo_Complete !== ToDo_CompleteNew )\n\n  const arrPromiseToUpdate = arr_filtered.map( a_ToDo =>\n    objectManager.update( 'ToDo', {\n      id: a_ToDo.id,\n      ToDo_Complete: ToDo_CompleteNew,\n    }),\n  )\n\n  const arr_local_ids_Changed_ToDos = arr_filtered.map( a_ToDo => a_ToDo.id )\n\n  await Promise.all( arrPromiseToUpdate )\n\n  return arr_local_ids_Changed_ToDos\n})\n"],"file":"ToDoListUpdateMarkAll.js"}