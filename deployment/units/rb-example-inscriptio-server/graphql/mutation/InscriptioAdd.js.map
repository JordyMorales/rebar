{"version":3,"sources":["../../../../../units/rb-example-inscriptio-server/graphql/mutation/InscriptioAdd.js"],"names":["name","inputFields","Inscriptio_LocationLat","type","GraphQLNonNull","GraphQLString","Inscriptio_LocationLon","Inscriptio_Notes","outputFields","InscriptiosEdge","InscriptiosConnection","edgeType","resolve","local_id","args","context","rootValue","objectManager","an_Object","getOneObject_async","id","arr","getObjectList_async","cursor","cursorForObjectInConnection","node","Viewer","ViewerType","parent","getViewerUserId","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA;AACA,iH,8FANA;;AAQe,gDAA6B;AAC1CA,EAAAA,IAAI,EAAE,eADoC;;AAG1CC,EAAAA,WAAW,EAAE;AACXC,IAAAA,sBAAsB,EAAE,EAAEC,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EADb;AAEXC,IAAAA,sBAAsB,EAAE,EAAEH,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAFb;AAGXE,IAAAA,gBAAgB,EAAE,EAAEJ,IAAI,EAAE,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAHP,EAH6B;;;AAS1CG,EAAAA,YAAY,EAAE;AACZC,IAAAA,eAAe,EAAE;AACfN,MAAAA,IAAI,EAAEO,+BAAsBC,QADb;AAEfC,MAAAA,OAAO,EAAE,OAAM,EAAEC,QAAF,EAAN,EAAoB,EAAE,GAAGC,IAAL,EAApB,EAAiCC,OAAjC,EAA0C,EAAEC,SAAS,EAAEC,aAAb,EAA1C,KAA2E;AAClF,cAAMC,SAAS,GAAG,MAAMD,aAAa,CAACE,kBAAd,CAAkC,YAAlC,EAAgD;AACtEC,UAAAA,EAAE,EAAEP,QADkE,EAAhD,CAAxB;;;AAIA,cAAMQ,GAAG,GAAG,MAAMJ,aAAa,CAACK,mBAAd,CAAmC,YAAnC,EAAiD,EAAjD,CAAlB;;AAEA,eAAO;AACLC,UAAAA,MAAM,EAAEN,aAAa,CAACO,2BAAd,CAA2C,YAA3C,EAAyDH,GAAzD,EAA8DH,SAA9D,CADH;AAELO,UAAAA,IAAI,EAAEP,SAFD,EAAP;;AAID,OAbc,EADL;;;AAiBZQ,IAAAA,MAAM,EAAE;AACNvB,MAAAA,IAAI,EAAEwB,mBADA;AAENf,MAAAA,OAAO,EAAE,CAAEgB,MAAF,EAAUd,IAAV,EAAgBC,OAAhB,EAAyB,EAAEC,SAAS,EAAEC,aAAb,EAAzB;AACPA,MAAAA,aAAa,CAACE,kBAAd,CAAkC,MAAlC,EAA0C;AACxCC,QAAAA,EAAE,EAAEH,aAAa,CAACY,eAAd,EADoC,EAA1C,CAHI,EAjBI,EAT4B;;;;;AAmC1CC,EAAAA,mBAAmB,EAAE;AACnB,IAAE5B,sBAAF,EAA0BI,sBAA1B,EAAkDC,gBAAlD,EADmB;AAEnBQ,EAAAA,OAFmB;AAGnB,IAAEC,SAAS,EAAEC,aAAb,EAHmB;AAIhB;AACH,UAAMJ,QAAQ,GAAG,MAAMI,aAAa,CAACc,GAAd,CAAmB,YAAnB,EAAiC;AACtD7B,MAAAA,sBADsD;AAEtDI,MAAAA,sBAFsD;AAGtDC,MAAAA,gBAHsD,EAAjC,CAAvB;;AAKA,WAAO,EAAEM,QAAF,EAAP;AACD,GA9CyC,EAA7B,C","sourcesContent":["// @flow weak\n\nimport { mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport InscriptiosConnection from '../type/InscriptiosConnection'\nimport ViewerType from '../../../../units/rb-appbase-server/graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'InscriptioAdd',\n\n  inputFields: {\n    Inscriptio_LocationLat: { type: new GraphQLNonNull( GraphQLString ) },\n    Inscriptio_LocationLon: { type: new GraphQLNonNull( GraphQLString ) },\n    Inscriptio_Notes: { type: new GraphQLNonNull( GraphQLString ) },\n  },\n\n  outputFields: {\n    InscriptiosEdge: {\n      type: InscriptiosConnection.edgeType,\n      resolve: async({ local_id }, { ...args }, context, { rootValue: objectManager }) => {\n        const an_Object = await objectManager.getOneObject_async( 'Inscriptio', {\n          id: local_id,\n        })\n\n        const arr = await objectManager.getObjectList_async( 'Inscriptio', {})\n\n        return {\n          cursor: objectManager.cursorForObjectInConnection( 'Inscriptio', arr, an_Object ),\n          node: an_Object,\n        }\n      },\n    },\n\n    Viewer: {\n      type: ViewerType,\n      resolve: ( parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject_async( 'User', {\n          id: objectManager.getViewerUserId(),\n        }),\n    },\n  },\n\n  mutateAndGetPayload: async(\n    { Inscriptio_LocationLat, Inscriptio_LocationLon, Inscriptio_Notes },\n    context,\n    { rootValue: objectManager },\n  ) => {\n    const local_id = await objectManager.add( 'Inscriptio', {\n      Inscriptio_LocationLat,\n      Inscriptio_LocationLon,\n      Inscriptio_Notes,\n    })\n    return { local_id }\n  },\n})\n"],"file":"InscriptioAdd.js"}