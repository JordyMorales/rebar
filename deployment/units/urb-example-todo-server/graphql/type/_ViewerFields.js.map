{"version":3,"sources":["../../../../../units/urb-example-todo-server/graphql/type/_ViewerFields.js"],"names":["ToDos","type","ToDosConnection","connectionType","args","status","GraphQLString","defaultValue","connectionArgs","resolve","obj","context","rootValue","objectManager","arr","getObjectList","filter","a_ToDo","ToDo_Complete","ToDo_TotalCount","GraphQLInt","length","ToDo_CompletedCount"],"mappings":";;AAEA;AACA;;AAEA,oD,mXALA;;AAOe;AACbA,SAAO;AACLC,UAAMC,0BAAgBC,cADjB;;AAGLC;AACEC,cAAQ;AACNJ,cAAMK,sBADA;AAENC,sBAAc,KAFR,EADV;;AAKKC,gCALL,CAHK;;;AAWLC,aAAS,OAAOC,GAAP,QAAiCC,OAAjC,EAA0C,EAAEC,WAAWC,aAAb,EAA1C,KAA2E,KAA/D,EAAER,MAAF,EAA+D,QAAlDD,IAAkD;AAClF,YAAMU,MAAM,MAAMD,cAAcE,aAAd,CAA6B,MAA7B,EAAqC,EAArC,CAAlB;;AAEA,aAAO;AACLD,UAAIE,MAAJ,CAAYC,UAAUZ,WAAW,KAAX,IAAoBY,OAAOC,aAAP,MAA2Bb,WAAW,WAAtC,CAA1C,CADK;AAELD,UAFK,CAAP;;AAID,KAlBI,EADM;;;AAsBbe,mBAAiB;AACflB,UAAMmB,mBADS;;AAGfX,aAAS,OAAOC,GAAP,SAAyBC,OAAzB,EAAkC,EAAEC,WAAWC,aAAb,EAAlC,KAAmE,KAAlDT,IAAkD;AAC1E,YAAMU,MAAM,MAAMD,cAAcE,aAAd,CAA6B,MAA7B,EAAqC,EAArC,CAAlB;;AAEA,aAAOD,IAAIO,MAAX;AACD,KAPc,EAtBJ;;;AAgCbC,uBAAqB;AACnBrB,UAAMmB,mBADa;;AAGnBX,aAAS,OAAOC,GAAP,SAAyBC,OAAzB,EAAkC,EAAEC,WAAWC,aAAb,EAAlC,KAAmE,KAAlDT,IAAkD;AAC1E,YAAMU,MAAM,MAAMD,cAAcE,aAAd,CAA6B,MAA7B,EAAqC,EAArC,CAAlB;;AAEA,aAAOD,IAAIE,MAAJ,CAAYC,UAAUA,OAAOC,aAA7B,EAA6CG,MAApD;AACD,KAPkB,EAhCR,E","file":"_ViewerFields.js","sourcesContent":["// @flow weak\n\nimport { GraphQLInt, GraphQLString } from 'graphql'\nimport { connectionArgs, connectionFromArray } from 'graphql-relay'\n\nimport ToDosConnection from './ToDosConnection'\n\nexport default {\n  ToDos: {\n    type: ToDosConnection.connectionType,\n\n    args: {\n      status: {\n        type: GraphQLString,\n        defaultValue: 'any',\n      },\n      ...connectionArgs,\n    },\n\n    resolve: async( obj, { status, ...args }, context, { rootValue: objectManager }) => {\n      const arr = await objectManager.getObjectList( 'ToDo', {})\n\n      return connectionFromArray(\n        arr.filter( a_ToDo => status === 'any' || a_ToDo.ToDo_Complete === ( status === 'completed' ) ),\n        args,\n      )\n    },\n  },\n\n  ToDo_TotalCount: {\n    type: GraphQLInt,\n\n    resolve: async( obj, { ...args }, context, { rootValue: objectManager }) => {\n      const arr = await objectManager.getObjectList( 'ToDo', {})\n\n      return arr.length\n    },\n  },\n\n  ToDo_CompletedCount: {\n    type: GraphQLInt,\n\n    resolve: async( obj, { ...args }, context, { rootValue: objectManager }) => {\n      const arr = await objectManager.getObjectList( 'ToDo', {})\n\n      return arr.filter( a_ToDo => a_ToDo.ToDo_Complete ).length\n    },\n  },\n}\n"]}