{"version":3,"sources":["../../../../units/rb-persister-cassandra/graphql/CassandraOptions.js"],"names":["require","config","CassandraOptions","authProvider","contactPoints","process","env","CASSANDRA_CONNECTION_POINTS","split","keyspace","CASSANDRA_KEYSPACE","localDataCenter","CASSANDRA_USER","cassandraDriver","auth","PlainTextAuthProvider","CASSANDRA_PASSWORD"],"mappings":";;AAEA,2E;;AAEA;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,gBAAgB,GAAG;AACvBC,EAAAA,YAAY,EAAE,IADS;AAEvB;AACAC,EAAAA,aAAa;AACXC,EAAAA,OAAO,CAACC,GAAR,CAAYC,2BAAZ,IAA2C,IAA3C;AACIF,EAAAA,OAAO,CAACC,GAAR,CAAYC,2BAAZ,CAAwCC,KAAxC,CAA8C,GAA9C,CADJ;AAEI,GAAC,WAAD,CANiB;AAOvBC,EAAAA,QAAQ,EAAEJ,OAAO,CAACC,GAAR,CAAYI,kBAPC;AAQvBC,EAAAA,eAAe,EAAE,aARM,EAAzB;;;AAWA,IAAIN,OAAO,CAACC,GAAR,CAAYM,cAAhB,EAAgC;AAC9BV,EAAAA,gBAAgB,CAACC,YAAjB,GAAgC,IAAIU,yBAAgBC,IAAhB,CAAqBC,qBAAzB;AAC9BV,EAAAA,OAAO,CAACC,GAAR,CAAYM,cADkB;AAE9BP,EAAAA,OAAO,CAACC,GAAR,CAAYU,kBAFkB,CAAhC;;AAID,C;;AAEcd,gB","sourcesContent":["// @flow\n\nimport cassandraDriver from 'cassandra-driver'\n\n// Read environment\nrequire('dotenv').config()\n\nconst CassandraOptions = {\n  authProvider: null,\n  // Assume localhost if not defined\n  contactPoints:\n    process.env.CASSANDRA_CONNECTION_POINTS != null\n      ? process.env.CASSANDRA_CONNECTION_POINTS.split(',')\n      : ['localhost'],\n  keyspace: process.env.CASSANDRA_KEYSPACE,\n  localDataCenter: 'datacenter1'\n}\n\nif (process.env.CASSANDRA_USER) {\n  CassandraOptions.authProvider = new cassandraDriver.auth.PlainTextAuthProvider(\n    process.env.CASSANDRA_USER,\n    process.env.CASSANDRA_PASSWORD\n  )\n}\n\nexport default CassandraOptions\n"],"file":"CassandraOptions.js"}