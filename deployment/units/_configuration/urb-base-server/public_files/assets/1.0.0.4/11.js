(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{6047:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=n(30),l=function(){return n(6048)};t.default={commit:function(e,t,n,i,r){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{ToDo_Complete:i},status:r},updater:function(e){var n=e.get(t.id),a=o.ConnectionHandler.getConnection(n,"ToDoList_ToDos",{status:r}),l=e.getRootField("ToDoListUpdateMarkAll").getLinkedRecord("Viewer").getLinkedRecord("ToDos",{status:r}).getLinkedRecords("edges");a.setLinkedRecords(l,"edges")},optimisticUpdater:function(e){var n=e.get(t.id),a=o.ConnectionHandler.getConnection(n,"ToDoList_ToDos",{status:r});(i&&"active"===r||!i&&"completed"===r)&&a.setLinkedRecords([],"edges")},optimisticResponse:function(){var e={Viewer:{id:t.id,ToDo_CompletedCount:0},changedToDos:null};return n&&n.edges&&(e.changedToDos=n.edges.filter(function(e){return e.node.ToDo_Complete!==i}).map(function(e){return{id:e.node.id,ToDo_Complete:i}})),i?null!=t.ToDo_TotalCount&&(e.Viewer.ToDo_CompletedCount=t.ToDo_TotalCount):e.Viewer.ToDo_CompletedCount=0,{ToDoListUpdateMarkAll:e}}})}}},6048:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"ToDoListUpdateMarkAllInput!",defaultValue:null},{kind:"LocalArgument",name:"status",type:"String!",defaultValue:null}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"ToDoListUpdateMarkAll",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoListUpdateMarkAllInput!"}],concreteType:"ToDoListUpdateMarkAllPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDos",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[t,n,{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}]},t,{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"changedToDos",storageKey:null,args:null,concreteType:"ToDo",plural:!0,selections:[t,n]}]}];return{kind:"Request",operationKind:"mutation",name:"ToDoListUpdateMarkAllMutation",id:null,text:"mutation ToDoListUpdateMarkAllMutation(\n  $input: ToDoListUpdateMarkAllInput!\n  $status: String!\n) {\n  ToDoListUpdateMarkAll(input: $input) {\n    Viewer {\n      ToDos(status: $status) {\n        edges {\n          node {\n            id\n            ToDo_Complete\n            ToDo_Text\n          }\n        }\n      }\n      id\n      ToDo_CompletedCount\n    }\n    changedToDos {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoListUpdateMarkAllMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:a},operation:{kind:"Operation",name:"ToDoListUpdateMarkAllMutation",argumentDefinitions:e,selections:a}}}();a.hash="18b2dc6ec26946a22a0803be1ba1d2f2",e.exports=a},6049:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=_(n(214)),l=_(n(117)),i=_(n(141)),r=_(n(293)),u=_(n(182)),s=_(n(183)),d=_(n(142)),c=n(6077),p=_(n(0)),m=n(23),f=_(n(6050)),T=_(n(6052)),g=_(n(6054)),D=_(n(6056));function _(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._handle_onClickCheckbox=function(e,t){var n=a.props,o=n.relay,l=n.Viewer,i=n.ToDo;f.default.commit(o.environment,l,i,t)},a._handle_Update_Properties=function(e){var t=a.props,n=t.relay,o=t.ToDo;g.default.commit(n.environment,o,e.ToDo_Text)},a._handle_Close_Properties=function(){a.setState({propertiesIsOpen:!1})},a.handleClickListItem=function(e){a.setState({menuIsOpen:!0,anchorEl:e.currentTarget})},a._handle_Menu_onClick_Edit=function(e){a.setState({menuIsOpen:!1,propertiesIsOpen:!0})},a._handle_Menu_onClick_Delete=function(e){a.setState({menuIsOpen:!1});var t=a.props,n=t.relay,o=t.Viewer,l=t.ToDo;T.default.commit(n.environment,o,l)},a.handleRequestClose=function(){a.setState({menuIsOpen:!1})},a.state={anchorEl:void 0,menuIsOpen:!1,propertiesIsOpen:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props.ToDo,n=t.ToDo_Complete,a=t.ToDo_Text;return p.default.createElement("div",null,p.default.createElement(i.default,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu",onClick:function(t){return e._handle_onClickCheckbox(t,!n)}},p.default.createElement(o.default,{checked:n}),p.default.createElement(u.default,{primary:a}),p.default.createElement(r.default,null,p.default.createElement(l.default,{onClick:this.handleClickListItem},p.default.createElement(c.MoreVert,null)))),p.default.createElement(s.default,{id:"lock-menu",anchorEl:this.state.anchorEl,open:this.state.menuIsOpen,onClose:this.handleRequestClose},p.default.createElement(d.default,{key:"edit",onClick:function(t){return e._handle_Menu_onClick_Edit(t)}},"Edit"),p.default.createElement(d.default,{key:"delete",onClick:function(t){return e._handle_Menu_onClick_Delete(t)}},"Delete")),p.default.createElement(D.default,{ToDo_Text:a,handlerUpdate:this._handle_Update_Properties,handlerClose:this._handle_Close_Properties,open:this.state.propertiesIsOpen}))}}]),t}();t.default=(0,m.createFragmentContainer)(y,{Viewer:function(){return n(6057)},ToDo:function(){return n(6058)}})},6050:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=n(30),l=function(){return n(6051)};function i(e,t,n){var a=e.get(t.id),l=n.getValue("ToDo_Complete")?"active":"completed",i=o.ConnectionHandler.getConnection(a,"ToDoList_ToDos",{status:l});i&&o.ConnectionHandler.deleteNode(i,n.getValue("id"))}t.default={commit:function(e,t,n,o){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{id:n.id,ToDo_Complete:o}},updater:function(e){var n=e.getRootField("ToDoUpdateStatus");i(e,t,n.getLinkedRecord("ToDo"))},optimisticUpdater:function(e){var a=e.get(n.id);a.setValue(o,"complete"),i(e,t,a);var l=e.get(t.id),r=l.getValue("ToDo_CompletedCount");null!=r&&l.setValue(r+(o?1:-1),"ToDo_CompletedCount")}})}}},6051:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateStatusInput!",defaultValue:null}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n=[{kind:"LinkedField",alias:null,name:"ToDoUpdateStatus",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateStatusInput!"}],concreteType:"ToDoUpdateStatusPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[t,{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ToDoUpdateStatusMutation",id:null,text:"mutation ToDoUpdateStatusMutation(\n  $input: ToDoUpdateStatusInput!\n) {\n  ToDoUpdateStatus(input: $input) {\n    Viewer {\n      id\n      ToDo_CompletedCount\n    }\n    ToDo {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoUpdateStatusMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"ToDoUpdateStatusMutation",argumentDefinitions:e,selections:n}}}();a.hash="05dd206726300c3f5a9866475072d101",e.exports=a},6052:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=n(30),l=function(){return n(6053)};function i(e,t,n){var a=e.get(t.id);["any","active","completed"].forEach(function(e){var t=o.ConnectionHandler.getConnection(a,"ToDoList_ToDos",{status:e});t&&o.ConnectionHandler.deleteNode(t,n)})}t.default={commit:function(e,t,n){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{id:n.id}},updater:function(e){var n=e.getRootField("ToDoDelete");i(e,t,n.getValue("deletedId"))},optimisticUpdater:function(e){i(e,t,n.id);var a=e.get(t.id),o=a.getValue("ToDo_TotalCount");null!=o&&a.setValue(o-1,"ToDo_TotalCount");var l=a.getValue("ToDo_CompletedCount");null!=l&&(null!=n.ToDo_Complete?n.ToDo_Complete&&a.setValue(l-1,"ToDo_CompletedCount"):null!=o&&o-1<l&&a.setValue(o-1,"ToDo_CompletedCount"))}})}}},6053:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"ToDoDeleteInput!",defaultValue:null}],t=[{kind:"Variable",name:"input",variableName:"input",type:"ToDoDeleteInput!"}],n={kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"deletedId",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"ToDoDeleteMutation",id:null,text:"mutation ToDoDeleteMutation(\n  $input: ToDoDeleteInput!\n) {\n  ToDoDelete(input: $input) {\n    Viewer {\n      ToDo_TotalCount\n      ToDo_CompletedCount\n      id\n    }\n    deletedId\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:t,concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a]},o]}]},operation:{kind:"Operation",name:"ToDoDeleteMutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:t,concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},o]}]}}}();a.hash="a581035e0f38d5d8ad86368e6420b22c",e.exports=a},6054:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=function(){return n(6055)};t.default={commit:function(e,t,n){return(0,a.commitMutation)(e,{mutation:o,variables:{input:{id:t.id,ToDo_Text:n}},optimisticResponse:function(){return{ToDoUpdateRename:{ToDo:{id:t.id,ToDo_Text:n}}}}})}}},6055:function(e,t,n){"use strict";var a=function(){var e=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateRenameInput!",defaultValue:null}],t=[{kind:"LinkedField",alias:null,name:"ToDoUpdateRename",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateRenameInput!"}],concreteType:"ToDoUpdateRenamePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ToDoUpdateRenameMutation",id:null,text:"mutation ToDoUpdateRenameMutation(\n  $input: ToDoUpdateRenameInput!\n) {\n  ToDoUpdateRename(input: $input) {\n    ToDo {\n      id\n      ToDo_Text\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoUpdateRenameMutation",type:"Mutation",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"ToDoUpdateRenameMutation",argumentDefinitions:e,selections:t}}}();a.hash="5ca316bc08f370bba86945985652a644",e.exports=a},6056:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=p(n(67)),l=p(n(177)),i=p(n(178)),r=p(n(179)),u=p(n(180)),s=p(n(0)),d=n(27),c=p(n(116));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a._handle_Close=function(){a.props.handlerClose()},a._handle_OK=function(){a.props.handlerUpdate({ToDo_Text:a.state.ToDo_Text}),a.props.handlerClose()};var o=a.props.ToDo_Text;return a.state={ToDo_Text:o},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.state.ToDo_Text;return s.default.createElement("div",null,s.default.createElement(l.default,{open:this.props.open,onClose:this._handle_Close},s.default.createElement(u.default,null,"ToDo"),s.default.createElement(r.default,null,s.default.createElement(c.default,{label:"To Do",fullWidth:!0,value:t,onChange:function(t){return e.setState({ToDo_Text:t.target.value})}})),s.default.createElement(i.default,null,s.default.createElement(o.default,{onClick:this._handle_Close},"Cancel"),s.default.createElement(o.default,{onClick:this._handle_OK,color:"primary"},"OK"))))}}]),t}();t.default=(0,d.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"}}})(m)},6057:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ToDoItem_Viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"1a7d80a3304bcbe9332edd571759ed60"};e.exports=a},6058:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ToDoItem_ToDo",type:"ToDo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}],hash:"b4582da6b8371980f5147d0ea118c859"};e.exports=a},6059:function(e,t,n){"use strict";var a=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"ToDoList_Viewer",type:"Viewer",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["ToDos"]}]},argumentDefinitions:[{kind:"RootArgument",name:"status",type:"String"}],selections:[{kind:"LinkedField",alias:"ToDos",name:"__ToDoList_ToDos_connection",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_ToDo",args:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},e,{kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_Viewer",args:null}]}}();a.hash="68b5216db9d5b129661a98b5e2476770",e.exports=a},6076:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=D(n(219)),l=D(n(214)),i=D(n(220)),r=D(n(292)),u=D(n(140)),s=n(27),d=n(181),c=D(n(0)),p=n(23),m=n(294),f=D(m),T=D(n(6047)),g=D(n(6049));function D(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];return n=a=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a._handle_onClick_MarkAll=function(e,t){var n=a.props,o=n.relay,l=n.Viewer,i=a.context.relay.variables,r=t;T.default.commit(o.environment,l,l.ToDos,r,i.status)},a._handle_onChange=function(e,t){var n=2===t?"/todo/completed":1===t?"/todo/active":"/todo";a.context.router.push(n)},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),a(t,[{key:"renderTabs",value:function(){var e=this.context.relay.variables.status,t="active"===e?1:"completed"===e?2:0;return c.default.createElement(o.default,{position:"static"},c.default.createElement(f.default,{value:t,onChange:this._handle_onChange},c.default.createElement(m.Tab,{label:"All"}),c.default.createElement(m.Tab,{label:"Active"}),c.default.createElement(m.Tab,{label:"Completed"})))}},{key:"render",value:function(){var e=this.props.Viewer,t=e.ToDos,n=e.ToDo_TotalCount,a=e.ToDo_CompletedCount;return n?c.default.createElement("div",null,this.renderTabs(),c.default.createElement(i.default,{row:!0},c.default.createElement(r.default,{control:c.default.createElement(l.default,{checked:n===a,onChange:this._handle_onClick_MarkAll}),label:"Mark all as complete"})),c.default.createElement(u.default,null,t.edges.map(function(t){var n=t.node;return c.default.createElement(g.default,{key:n.id,Viewer:e,ToDo:n})}))):null}}]),t}();t.default=(0,p.createFragmentContainer)((0,s.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,background:e.palette.background.paper}}})((0,d.withRouter)(y)),{Viewer:function(){return n(6059)}})}}]);