(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{791:function(e,t,n){"use strict";var a,o={kind:"Fragment",name:"ToDoList_Viewer",type:"Viewer",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["ToDos"]}]},argumentDefinitions:[{kind:"RootArgument",name:"status",type:"String"}],selections:[{kind:"LinkedField",alias:"ToDos",name:"__ToDoList_ToDos_connection",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_ToDo",args:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},a,{kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_Viewer",args:null}]};o.hash="68b5216db9d5b129661a98b5e2476770",e.exports=o},792:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ToDoItem_ToDo",type:"ToDo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}],hash:"b4582da6b8371980f5147d0ea118c859"};e.exports=a},793:function(e,t,n){"use strict";var a={kind:"Fragment",name:"ToDoItem_Viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"1a7d80a3304bcbe9332edd571759ed60"};e.exports=a},794:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=d(n(75)),l=n(208),i=d(l),r=d(n(0)),u=n(30),s=d(n(142));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a._handle_Close=function(){a.props.handlerClose()},a._handle_OK=function(){a.props.handlerUpdate({ToDo_Text:a.state.ToDo_Text}),a.props.handlerClose()};var o=a.props.ToDo_Text;return a.state={ToDo_Text:o},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.state.ToDo_Text;return r.default.createElement("div",null,r.default.createElement(i.default,{open:this.props.open,onRequestClose:this._handle_Close},r.default.createElement(l.DialogTitle,null,"ToDo"),r.default.createElement(l.DialogContent,null,r.default.createElement(s.default,{label:"To Do",fullWidth:!0,value:t,onChange:function(t){return e.setState({ToDo_Text:t.target.value})}})),r.default.createElement(l.DialogActions,null,r.default.createElement(o.default,{onClick:this._handle_Close},"Cancel"),r.default.createElement(o.default,{onClick:this._handle_OK,color:"primary"},"OK"))))}}]),t}();t.default=(0,u.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"}}})(c)},795:function(e,t,n){"use strict";var a,o,l={kind:"Request",operationKind:"mutation",name:"ToDoUpdateRenameMutation",id:null,text:"mutation ToDoUpdateRenameMutation(\n  $input: ToDoUpdateRenameInput!\n) {\n  ToDoUpdateRename(input: $input) {\n    ToDo {\n      id\n      ToDo_Text\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoUpdateRenameMutation",type:"Mutation",metadata:null,argumentDefinitions:a=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateRenameInput!",defaultValue:null}],selections:o=[{kind:"LinkedField",alias:null,name:"ToDoUpdateRename",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateRenameInput!"}],concreteType:"ToDoUpdateRenamePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}]},operation:{kind:"Operation",name:"ToDoUpdateRenameMutation",argumentDefinitions:a,selections:o}};l.hash="5ca316bc08f370bba86945985652a644",e.exports=l},796:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),o=function(){return n(795)};t.default={commit:function(e,t,n){return(0,a.commitMutation)(e,{mutation:o,variables:{input:{id:t.id,ToDo_Text:n}},optimisticResponse:function(){return{ToDoUpdateRename:{ToDo:{id:t.id,ToDo_Text:n}}}}})}}},797:function(e,t,n){"use strict";var a,o,l,i,r,u={kind:"Request",operationKind:"mutation",name:"ToDoDeleteMutation",id:null,text:"mutation ToDoDeleteMutation(\n  $input: ToDoDeleteInput!\n) {\n  ToDoDelete(input: $input) {\n    Viewer {\n      ToDo_TotalCount\n      ToDo_CompletedCount\n      id\n    }\n    deletedId\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:a=[{kind:"LocalArgument",name:"input",type:"ToDoDeleteInput!",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:o=[{kind:"Variable",name:"input",variableName:"input",type:"ToDoDeleteInput!"}],concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l={kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},r={kind:"ScalarField",alias:null,name:"deletedId",args:null,storageKey:null}]}]},operation:{kind:"Operation",name:"ToDoDeleteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:o,concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},r]}]}};u.hash="a581035e0f38d5d8ad86368e6420b22c",e.exports=u},798:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),o=n(41),l=function(){return n(797)};function i(e,t,n){var a=e.get(t.id);["any","active","completed"].forEach(function(e){var t=o.ConnectionHandler.getConnection(a,"ToDoList_ToDos",{status:e});t&&o.ConnectionHandler.deleteNode(t,n)})}t.default={commit:function(e,t,n){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{id:n.id}},updater:function(e){var n=e.getRootField("ToDoDelete");i(e,t,n.getValue("deletedId"))},optimisticUpdater:function(e){i(e,t,n.id);var a=e.get(t.id),o=a.getValue("ToDo_TotalCount");null!=o&&a.setValue(o-1,"ToDo_TotalCount");var l=a.getValue("ToDo_CompletedCount");null!=l&&(null!=n.ToDo_Complete?n.ToDo_Complete&&a.setValue(l-1,"ToDo_CompletedCount"):null!=o&&o-1<l&&a.setValue(o-1,"ToDo_CompletedCount"))}})}}},799:function(e,t,n){"use strict";var a,o,l,i={kind:"Request",operationKind:"mutation",name:"ToDoUpdateStatusMutation",id:null,text:"mutation ToDoUpdateStatusMutation(\n  $input: ToDoUpdateStatusInput!\n) {\n  ToDoUpdateStatus(input: $input) {\n    Viewer {\n      id\n      ToDo_CompletedCount\n    }\n    ToDo {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoUpdateStatusMutation",type:"Mutation",metadata:null,argumentDefinitions:a=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateStatusInput!",defaultValue:null}],selections:l=[{kind:"LinkedField",alias:null,name:"ToDoUpdateStatus",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateStatusInput!"}],concreteType:"ToDoUpdateStatusPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[o,{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null}]}]}]},operation:{kind:"Operation",name:"ToDoUpdateStatusMutation",argumentDefinitions:a,selections:l}};i.hash="05dd206726300c3f5a9866475072d101",e.exports=i},800:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),o=n(41),l=function(){return n(799)};function i(e,t,n){var a=e.get(t.id),l=n.getValue("ToDo_Complete")?"active":"completed",i=o.ConnectionHandler.getConnection(a,"ToDoList_ToDos",{status:l});i&&o.ConnectionHandler.deleteNode(i,n.getValue("id"))}t.default={commit:function(e,t,n,o){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{id:n.id,ToDo_Complete:o}},updater:function(e){var n=e.getRootField("ToDoUpdateStatus");i(e,t,n.getLinkedRecord("ToDo"))},optimisticUpdater:function(e){var a=e.get(n.id);a.setValue(o,"complete"),i(e,t,a);var l=e.get(t.id),r=l.getValue("ToDo_CompletedCount");null!=r&&l.setValue(r+(o?1:-1),"ToDo_CompletedCount")}})}}},801:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=g(n(274)),l=g(n(143)),i=n(120),r=n(210),u=g(r),s=n(826),d=g(n(0)),c=n(25),p=g(n(800)),m=g(n(798)),f=g(n(796)),T=g(n(794));function g(e){return e&&e.__esModule?e:{default:e}}var D=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._handle_onClickCheckbox=function(e,t){var n=a.props,o=n.relay,l=n.Viewer,i=n.ToDo;p.default.commit(o.environment,l,i,t)},a._handle_Update_Properties=function(e){var t=a.props,n=t.relay,o=t.ToDo;f.default.commit(n.environment,o,e.ToDo_Text)},a._handle_Close_Properties=function(){a.setState({propertiesIsOpen:!1})},a.handleClickListItem=function(e){a.setState({menuIsOpen:!0,anchorEl:e.currentTarget})},a._handle_Menu_onClick_Edit=function(e){a.setState({menuIsOpen:!1,propertiesIsOpen:!0})},a._handle_Menu_onClick_Delete=function(e){a.setState({menuIsOpen:!1});var t=a.props,n=t.relay,o=t.Viewer,l=t.ToDo;m.default.commit(n.environment,o,l)},a.handleRequestClose=function(){a.setState({menuIsOpen:!1})},a.state={anchorEl:void 0,menuIsOpen:!1,propertiesIsOpen:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props.ToDo,n=t.ToDo_Complete,a=t.ToDo_Text;return d.default.createElement("div",null,d.default.createElement(i.ListItem,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu",onClick:function(t){return e._handle_onClickCheckbox(t,!n)}},d.default.createElement(o.default,{checked:n}),d.default.createElement(i.ListItemText,{primary:a}),d.default.createElement(i.ListItemSecondaryAction,null,d.default.createElement(l.default,{onClick:this.handleClickListItem},d.default.createElement(s.MoreVert,null)))),d.default.createElement(u.default,{id:"lock-menu",anchorEl:this.state.anchorEl,open:this.state.menuIsOpen,onRequestClose:this.handleRequestClose},d.default.createElement(r.MenuItem,{key:"edit",onClick:function(t){return e._handle_Menu_onClick_Edit(t)}},"Edit"),d.default.createElement(r.MenuItem,{key:"delete",onClick:function(t){return e._handle_Menu_onClick_Delete(t)}},"Delete")),d.default.createElement(T.default,{ToDo_Text:a,handlerUpdate:this._handle_Update_Properties,handlerClose:this._handle_Close_Properties,open:this.state.propertiesIsOpen}))}}]),t}();t.default=(0,c.createFragmentContainer)(D,{Viewer:function(){return n(793)},ToDo:function(){return n(792)}})},802:function(e,t,n){"use strict";var a,o,l,i,r={kind:"Request",operationKind:"mutation",name:"ToDoListUpdateMarkAllMutation",id:null,text:"mutation ToDoListUpdateMarkAllMutation(\n  $input: ToDoListUpdateMarkAllInput!\n  $status: String!\n) {\n  ToDoListUpdateMarkAll(input: $input) {\n    Viewer {\n      ToDos(status: $status) {\n        edges {\n          node {\n            id\n            ToDo_Complete\n            ToDo_Text\n          }\n        }\n      }\n      id\n      ToDo_CompletedCount\n    }\n    changedToDos {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{},fragment:{kind:"Fragment",name:"ToDoListUpdateMarkAllMutation",type:"Mutation",metadata:null,argumentDefinitions:a=[{kind:"LocalArgument",name:"input",type:"ToDoListUpdateMarkAllInput!",defaultValue:null},{kind:"LocalArgument",name:"status",type:"String!",defaultValue:null}],selections:i=[{kind:"LinkedField",alias:null,name:"ToDoListUpdateMarkAll",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoListUpdateMarkAllInput!"}],concreteType:"ToDoListUpdateMarkAllPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDos",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}]},o,{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"changedToDos",storageKey:null,args:null,concreteType:"ToDo",plural:!0,selections:[o,l]}]}]},operation:{kind:"Operation",name:"ToDoListUpdateMarkAllMutation",argumentDefinitions:a,selections:i}};r.hash="18b2dc6ec26946a22a0803be1ba1d2f2",e.exports=r},803:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),o=n(41),l=function(){return n(802)};t.default={commit:function(e,t,n,i,r){return(0,a.commitMutation)(e,{mutation:l,variables:{input:{ToDo_Complete:i},status:r},updater:function(e){var n=e.get(t.id),a=o.ConnectionHandler.getConnection(n,"ToDoList_ToDos",{status:r}),l=e.getRootField("ToDoListUpdateMarkAll").getLinkedRecord("Viewer").getLinkedRecord("ToDos",{status:r}).getLinkedRecords("edges");a.setLinkedRecords(l,"edges")},optimisticUpdater:function(e){var n=e.get(t.id),a=o.ConnectionHandler.getConnection(n,"ToDoList_ToDos",{status:r});(i&&"active"===r||!i&&"completed"===r)&&a.setLinkedRecords([],"edges")},optimisticResponse:function(){var e={Viewer:{id:t.id,ToDo_CompletedCount:0},changedToDos:null};return n&&n.edges&&(e.changedToDos=n.edges.filter(function(e){return e.node.ToDo_Complete!==i}).map(function(e){return{id:e.node.id,ToDo_Complete:i}})),i?null!=t.ToDo_TotalCount&&(e.Viewer.ToDo_CompletedCount=t.ToDo_TotalCount):e.Viewer.ToDo_CompletedCount=0,{ToDoListUpdateMarkAll:e}}})}}},827:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=D(n(281)),l=D(n(274)),i=D(n(280)),r=D(n(547)),u=D(n(120)),s=n(30),d=D(n(3)),c=D(n(0)),p=n(25),m=n(546),f=D(m),T=D(n(803)),g=D(n(801));function D(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];return n=a=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a._handle_onClick_MarkAll=function(e,t){var n=a.props,o=n.relay,l=n.Viewer,i=a.context.relay.variables,r=t;T.default.commit(o.environment,l,l.ToDos,r,i.status)},a._handle_onChange=function(e,t){var n=2===t?"/todo/completed":1===t?"/todo/active":"/todo";a.context.router.push(n)},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),a(t,[{key:"renderTabs",value:function(){var e=this.context.relay.variables.status,t="active"===e?1:"completed"===e?2:0;return c.default.createElement(o.default,{position:"static"},c.default.createElement(f.default,{value:t,onChange:this._handle_onChange},c.default.createElement(m.Tab,{label:"All"}),c.default.createElement(m.Tab,{label:"Active"}),c.default.createElement(m.Tab,{label:"Completed"})))}},{key:"render",value:function(){var e=this.props.Viewer,t=e.ToDos,n=e.ToDo_TotalCount,a=e.ToDo_CompletedCount;return n?c.default.createElement("div",null,this.renderTabs(),c.default.createElement(i.default,{row:!0},c.default.createElement(r.default,{control:c.default.createElement(l.default,{checked:n===a,onChange:this._handle_onClick_MarkAll}),label:"Mark all as complete"})),c.default.createElement(u.default,null,t.edges.map(function(t){var n=t.node;return c.default.createElement(g.default,{key:n.id,Viewer:e,ToDo:n})}))):null}}]),t}();y.contextTypes={relay:d.default.object,router:d.default.object},t.default=(0,p.createFragmentContainer)((0,s.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,background:e.palette.background.paper}}})(y),{Viewer:function(){return n(791)}})}}]);