(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1753:function(e,n,t){"use strict";t.r(n);var o=t(200),a=t.n(o),l=t(191),i=t.n(l),r=t(227),u=t.n(r),s=t(312),c=t.n(s),d=t(120),p=t.n(d),m=t(14),f=t(93),T=t(0),g=t.n(T),y=t(13),D=t(163),k=t.n(D),_=t(22),b=function(){return t(878)};var h={commit:function(e,n,t,o,a){return Object(y.commitMutation)(e,{mutation:b,variables:{input:{ToDo_Complete:o},status:a},updater:function(e){var t=e.get(n.id),o=_.ConnectionHandler.getConnection(t,"ToDoList_ToDos",{status:a}),l=e.getRootField("ToDoListUpdateMarkAll").getLinkedRecord("Viewer").getLinkedRecord("ToDos",{status:a}).getLinkedRecords("edges");o.setLinkedRecords(l,"edges")},optimisticUpdater:function(e){var t=e.get(n.id),l=_.ConnectionHandler.getConnection(t,"ToDoList_ToDos",{status:a});(o&&"active"===a||!o&&"completed"===a)&&l.setLinkedRecords([],"edges")},optimisticResponse:function(){var e={Viewer:{id:n.id,ToDo_CompletedCount:0},changedToDos:null};return t&&t.edges&&(e.changedToDos=t.edges.filter(function(e){return e.node.ToDo_Complete!==o}).map(function(e){return{id:e.node.id,ToDo_Complete:o}})),o?null!=n.ToDo_TotalCount&&(e.Viewer.ToDo_CompletedCount=n.ToDo_TotalCount):e.Viewer.ToDo_CompletedCount=0,{ToDoListUpdateMarkAll:e}}})}},C=t(94),v=t.n(C),S=t(119),w=t.n(S),F=t(314),O=t.n(F),K=t(140),L=t.n(K),E=t(141),V=t.n(E),M=t(78),U=t.n(M),x=t(828),I=t.n(x),R=function(){return t(879)};function j(e,n,t){var o=e.get(n.id),a=t.getValue("ToDo_Complete")?"active":"completed",l=_.ConnectionHandler.getConnection(o,"ToDoList_ToDos",{status:a});l&&_.ConnectionHandler.deleteNode(l,t.getValue("id"))}var P={commit:function(e,n,t,o){return Object(y.commitMutation)(e,{mutation:R,variables:{input:{id:t.id,ToDo_Complete:o}},updater:function(e){var t=e.getRootField("ToDoUpdateStatus");j(e,n,t.getLinkedRecord("ToDo"))},optimisticUpdater:function(e){var a=e.get(t.id);a.setValue(o,"complete"),j(e,n,a);var l=e.get(n.id),i=l.getValue("ToDo_CompletedCount");null!=i&&l.setValue(i+(o?1:-1),"ToDo_CompletedCount")}})}},A=function(){return t(880)};function $(e,n,t){var o=e.get(n.id);["any","active","completed"].forEach(function(e){var n=_.ConnectionHandler.getConnection(o,"ToDoList_ToDos",{status:e});n&&_.ConnectionHandler.deleteNode(n,t)})}var N={commit:function(e,n,t){return Object(y.commitMutation)(e,{mutation:A,variables:{input:{id:t.id}},updater:function(e){var t=e.getRootField("ToDoDelete");$(e,n,t.getValue("deletedId"))},optimisticUpdater:function(e){$(e,n,t.id);var o=e.get(n.id),a=o.getValue("ToDo_TotalCount");null!=a&&o.setValue(a-1,"ToDo_TotalCount");var l=o.getValue("ToDo_CompletedCount");null!=l&&(null!=t.ToDo_Complete?t.ToDo_Complete&&o.setValue(l-1,"ToDo_CompletedCount"):null!=a&&a-1<l&&o.setValue(a-1,"ToDo_CompletedCount"))}})}},q=function(){return t(881)};var H={commit:function(e,n,t){return Object(y.commitMutation)(e,{mutation:q,variables:{input:{id:n.id,ToDo_Text:t}},optimisticResponse:function(){return{ToDoUpdateRename:{ToDo:{id:n.id,ToDo_Text:t}}}}})}},W=t(29),J=t.n(W),z=t(106),B=t.n(z),G=t(109),Q=t.n(G),X=t(108),Y=t.n(X),Z=t(107),ee=t.n(Z),ne=t(42),te=t.n(ne);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,n){return!n||"object"!==oe(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,n){return(re=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var ue=function(e){function n(e,t){var o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(o=le(this,ie(n).call(this,e,t)))._handle_Close=function(){o.props.handlerClose()},o._handle_OK=function(){o.props.handlerUpdate({ToDo_Text:o.state.ToDo_Text}),o.props.handlerClose()};var a=o.props.ToDo_Text;return o.state={ToDo_Text:a},o}var t,o,a;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&re(e,n)}(n,g.a.Component),t=n,(o=[{key:"render",value:function(){var e=this,n=this.state.ToDo_Text;return g.a.createElement("div",null,g.a.createElement(B.a,{open:this.props.open,onClose:this._handle_Close},g.a.createElement(ee.a,null,"ToDo"),g.a.createElement(Y.a,null,g.a.createElement(te.a,{label:"To Do",fullWidth:!0,value:n,onChange:function(n){return e.setState({ToDo_Text:n.target.value})}})),g.a.createElement(Q.a,null,g.a.createElement(J.a,{onClick:this._handle_Close},"Cancel"),g.a.createElement(J.a,{onClick:this._handle_OK,color:"primary"},"OK"))))}}])&&ae(t.prototype,o),a&&ae(t,a),n}(),se=Object(m.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"}}})(ue);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pe(e,n){return!n||"object"!==ce(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,n){return(fe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Te=function(e){function n(e,t){var o;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(o=pe(this,me(n).call(this,e,t)))._handle_onClickCheckbox=function(e,n){var t=o.props,a=t.relay,l=t.Viewer,i=t.ToDo;P.commit(a.environment,l,i,n)},o._handle_Update_Properties=function(e){var n=o.props,t=n.relay,a=n.ToDo;H.commit(t.environment,a,e.ToDo_Text)},o._handle_Close_Properties=function(){o.setState({propertiesIsOpen:!1})},o.handleClickListItem=function(e){o.setState({menuIsOpen:!0,anchorEl:e.currentTarget})},o._handle_Menu_onClick_Edit=function(e){o.setState({menuIsOpen:!1,propertiesIsOpen:!0})},o._handle_Menu_onClick_Delete=function(e){o.setState({menuIsOpen:!1});var n=o.props,t=n.relay,a=n.Viewer,l=n.ToDo;N.commit(t.environment,a,l)},o.handleRequestClose=function(){o.setState({menuIsOpen:!1})},o.state={anchorEl:void 0,menuIsOpen:!1,propertiesIsOpen:!1},o}var t,o,a;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&fe(e,n)}(n,g.a.Component),t=n,(o=[{key:"render",value:function(){var e=this,n=this.props.ToDo,t=n.ToDo_Complete,o=n.ToDo_Text;return g.a.createElement("div",null,g.a.createElement(w.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu",onClick:function(n){return e._handle_onClickCheckbox(n,!t)}},g.a.createElement(i.a,{checked:t}),g.a.createElement(L.a,{primary:o}),g.a.createElement(O.a,null,g.a.createElement(v.a,{onClick:this.handleClickListItem},g.a.createElement(I.a,null)))),g.a.createElement(V.a,{id:"lock-menu",anchorEl:this.state.anchorEl,open:this.state.menuIsOpen,onClose:this.handleRequestClose},g.a.createElement(U.a,{key:"edit",onClick:function(n){return e._handle_Menu_onClick_Edit(n)}},"Edit"),g.a.createElement(U.a,{key:"delete",onClick:function(n){return e._handle_Menu_onClick_Delete(n)}},"Delete")),g.a.createElement(se,{ToDo_Text:o,handlerUpdate:this._handle_Update_Properties,handlerClose:this._handle_Close_Properties,open:this.state.propertiesIsOpen}))}}])&&de(t.prototype,o),a&&de(t,a),n}(),ge=Object(y.createFragmentContainer)(Te,{Viewer:function(){return t(882)},ToDo:function(){return t(883)}});function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ke(e,n){return!n||"object"!==ye(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,n){return(be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var he=function(e){function n(){var e,t,o;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return ke(o,(t=o=ke(this,(e=_e(n)).call.apply(e,[this].concat(l))),o._handle_onClick_MarkAll=function(e,n){var t=o.props,a=t.relay,l=t.Viewer,i=o.context.relay.variables,r=n;h.commit(a.environment,l,l.ToDos,r,i.status)},o._handle_onChange=function(e,n){var t=2===n?"/todo/completed":1===n?"/todo/active":"/todo";o.context.router.push(t)},t))}var t,o,l;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&be(e,n)}(n,g.a.Component),t=n,(o=[{key:"renderTabs",value:function(){var e=this.context.relay.variables.status,n="active"===e?1:"completed"===e?2:0;return g.a.createElement(a.a,{position:"static"},g.a.createElement(k.a,{value:n,onChange:this._handle_onChange},g.a.createElement(D.Tab,{label:"All"}),g.a.createElement(D.Tab,{label:"Active"}),g.a.createElement(D.Tab,{label:"Completed"})))}},{key:"render",value:function(){var e=this.props.Viewer,n=e.ToDos,t=e.ToDo_TotalCount,o=e.ToDo_CompletedCount;return t?g.a.createElement("div",null,this.renderTabs(),g.a.createElement(u.a,{row:!0},g.a.createElement(c.a,{control:g.a.createElement(i.a,{checked:t===o,onChange:this._handle_onClick_MarkAll}),label:"Mark all as complete"})),g.a.createElement(p.a,null,n.edges.map(function(n){var t=n.node;return g.a.createElement(ge,{key:t.id,Viewer:e,ToDo:t})}))):null}}])&&De(t.prototype,o),l&&De(t,l),n}();n.default=Object(y.createFragmentContainer)(Object(m.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,background:e.palette.background.paper}}})(Object(f.withRouter)(he)),{Viewer:function(){return t(884)}})},878:function(e,n,t){"use strict";var o,a,l,i,r={kind:"Request",fragment:{kind:"Fragment",name:"ToDoListUpdateMarkAllMutation",type:"Mutation",metadata:null,argumentDefinitions:o=[{kind:"LocalArgument",name:"input",type:"ToDoListUpdateMarkAllInput!",defaultValue:null},{kind:"LocalArgument",name:"status",type:"String!",defaultValue:null}],selections:i=[{kind:"LinkedField",alias:null,name:"ToDoListUpdateMarkAll",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoListUpdateMarkAllInput!"}],concreteType:"ToDoListUpdateMarkAllPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDos",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}]},a,{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"changedToDos",storageKey:null,args:null,concreteType:"ToDo",plural:!0,selections:[a,l]}]}]},operation:{kind:"Operation",name:"ToDoListUpdateMarkAllMutation",argumentDefinitions:o,selections:i},params:{operationKind:"mutation",name:"ToDoListUpdateMarkAllMutation",id:null,text:"mutation ToDoListUpdateMarkAllMutation(\n  $input: ToDoListUpdateMarkAllInput!\n  $status: String!\n) {\n  ToDoListUpdateMarkAll(input: $input) {\n    Viewer {\n      ToDos(status: $status) {\n        edges {\n          node {\n            id\n            ToDo_Complete\n            ToDo_Text\n          }\n        }\n      }\n      id\n      ToDo_CompletedCount\n    }\n    changedToDos {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{}}};r.hash="18b2dc6ec26946a22a0803be1ba1d2f2",e.exports=r},879:function(e,n,t){"use strict";var o,a,l,i={kind:"Request",fragment:{kind:"Fragment",name:"ToDoUpdateStatusMutation",type:"Mutation",metadata:null,argumentDefinitions:o=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateStatusInput!",defaultValue:null}],selections:l=[{kind:"LinkedField",alias:null,name:"ToDoUpdateStatus",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateStatusInput!"}],concreteType:"ToDoUpdateStatusPayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null}]}]}]},operation:{kind:"Operation",name:"ToDoUpdateStatusMutation",argumentDefinitions:o,selections:l},params:{operationKind:"mutation",name:"ToDoUpdateStatusMutation",id:null,text:"mutation ToDoUpdateStatusMutation(\n  $input: ToDoUpdateStatusInput!\n) {\n  ToDoUpdateStatus(input: $input) {\n    Viewer {\n      id\n      ToDo_CompletedCount\n    }\n    ToDo {\n      id\n      ToDo_Complete\n    }\n  }\n}\n",metadata:{}}};i.hash="05dd206726300c3f5a9866475072d101",e.exports=i},880:function(e,n,t){"use strict";var o,a,l,i,r,u={kind:"Request",fragment:{kind:"Fragment",name:"ToDoDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:o=[{kind:"LocalArgument",name:"input",type:"ToDoDeleteInput!",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:a=[{kind:"Variable",name:"input",variableName:"input",type:"ToDoDeleteInput!"}],concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l={kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null}]},r={kind:"ScalarField",alias:null,name:"deletedId",args:null,storageKey:null}]}]},operation:{kind:"Operation",name:"ToDoDeleteMutation",argumentDefinitions:o,selections:[{kind:"LinkedField",alias:null,name:"ToDoDelete",storageKey:null,args:a,concreteType:"ToDoDeletePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"Viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},r]}]},params:{operationKind:"mutation",name:"ToDoDeleteMutation",id:null,text:"mutation ToDoDeleteMutation(\n  $input: ToDoDeleteInput!\n) {\n  ToDoDelete(input: $input) {\n    Viewer {\n      ToDo_TotalCount\n      ToDo_CompletedCount\n      id\n    }\n    deletedId\n  }\n}\n",metadata:{}}};u.hash="a581035e0f38d5d8ad86368e6420b22c",e.exports=u},881:function(e,n,t){"use strict";var o,a,l={kind:"Request",fragment:{kind:"Fragment",name:"ToDoUpdateRenameMutation",type:"Mutation",metadata:null,argumentDefinitions:o=[{kind:"LocalArgument",name:"input",type:"ToDoUpdateRenameInput!",defaultValue:null}],selections:a=[{kind:"LinkedField",alias:null,name:"ToDoUpdateRename",storageKey:null,args:[{kind:"Variable",name:"input",variableName:"input",type:"ToDoUpdateRenameInput!"}],concreteType:"ToDoUpdateRenamePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ToDo",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}]}]}]},operation:{kind:"Operation",name:"ToDoUpdateRenameMutation",argumentDefinitions:o,selections:a},params:{operationKind:"mutation",name:"ToDoUpdateRenameMutation",id:null,text:"mutation ToDoUpdateRenameMutation(\n  $input: ToDoUpdateRenameInput!\n) {\n  ToDoUpdateRename(input: $input) {\n    ToDo {\n      id\n      ToDo_Text\n    }\n  }\n}\n",metadata:{}}};l.hash="5ca316bc08f370bba86945985652a644",e.exports=l},882:function(e,n,t){"use strict";var o={kind:"Fragment",name:"ToDoItem_Viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}],hash:"1a7d80a3304bcbe9332edd571759ed60"};e.exports=o},883:function(e,n,t){"use strict";var o={kind:"Fragment",name:"ToDoItem_ToDo",type:"ToDo",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Text",args:null,storageKey:null}],hash:"b4582da6b8371980f5147d0ea118c859"};e.exports=o},884:function(e,n,t){"use strict";var o,a={kind:"Fragment",name:"ToDoList_Viewer",type:"Viewer",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["ToDos"]}]},argumentDefinitions:[{kind:"RootArgument",name:"status",type:"String"}],selections:[{kind:"LinkedField",alias:"ToDos",name:"__ToDoList_ToDos_connection",storageKey:null,args:[{kind:"Variable",name:"status",variableName:"status",type:"String"}],concreteType:"ToDosConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ToDosEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"ToDo",plural:!1,selections:[o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_Complete",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_ToDo",args:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},o,{kind:"ScalarField",alias:null,name:"ToDo_TotalCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"ToDo_CompletedCount",args:null,storageKey:null},{kind:"FragmentSpread",name:"ToDoItem_Viewer",args:null}]};a.hash="68b5216db9d5b129661a98b5e2476770",e.exports=a}}]);