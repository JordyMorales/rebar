{"version":3,"sources":["../../../../units/rb-example-translaticiarum-client/relay/TranslaticiarumDeleteMutation.js"],"names":["mutation","sharedUpdater","store","user","deletedId","userProxy","get","id","connection","ConnectionHandler","getConnection","deleteNode","commit","environment","aTranslaticiarum","variables","input","updater","payload","getRootField","getValue","optimisticUpdater"],"mappings":";;AAEA;AACA,6C,CAHA;;AAKA,MAAMA,QAAQ,yFAAd;;;;;;;;AAQA,SAASC,aAAT,CAAwBC,KAAxB,EAA+BC,IAA/B,EAAqCC,SAArC,EAAiD;AAC/C,QAAMC,SAAS,GAAGH,KAAK,CAACI,GAAN,CAAWH,IAAI,CAACI,EAAhB,CAAlB;;AAEA,QAAMC,UAAU,GAAGC,gCAAkBC,aAAlB;AACjBL,EAAAA,SADiB;AAEjB,wCAFiB,CAAnB;;AAIA,MAAKG,UAAL,EAAkB;AAChBC,oCAAkBE,UAAlB,CAA8BH,UAA9B,EAA0CJ,SAA1C;AACD;AACF;;AAED,SAASQ,MAAT,CAAiBC,WAAjB,EAA8BV,IAA9B,EAAoCW,gBAApC,EAAuD;AACrD,SAAO,gCAAgBD,WAAhB,EAA6B;AAClCb,IAAAA,QADkC;AAElCe,IAAAA,SAAS,EAAE;AACTC,MAAAA,KAAK,EAAE,EAAET,EAAE,EAAEO,gBAAgB,CAACP,EAAvB,EADE,EAFuB;;;AAMlCU,IAAAA,OAAO,CAAEf,KAAF,EAAU;AACf,YAAMgB,OAAO,GAAGhB,KAAK,CAACiB,YAAN,CAAoB,uBAApB,CAAhB;AACAlB,MAAAA,aAAa,CAAEC,KAAF,EAASC,IAAT,EAAee,OAAO,CAACE,QAAR,CAAkB,WAAlB,CAAf,CAAb;AACD,KATiC;;AAWlCC,IAAAA,iBAAiB,CAAEnB,KAAF,EAAU;AACzBD,MAAAA,aAAa,CAAEC,KAAF,EAASC,IAAT,EAAeW,gBAAgB,CAACP,EAAhC,CAAb;AACD,KAbiC,EAA7B,CAAP;;AAeD,C;;AAEc,EAAEK,MAAF,E","sourcesContent":["// @flow weak\n\nimport { commitMutation, graphql } from 'react-relay'\nimport { ConnectionHandler } from 'relay-runtime'\n\nconst mutation = graphql`\n  mutation TranslaticiarumDeleteMutation($input: TranslaticiarumDeleteInput!) {\n    TranslaticiarumDelete(input: $input) {\n      deletedId\n    }\n  }\n`\n\nfunction sharedUpdater( store, user, deletedId ) {\n  const userProxy = store.get( user.id )\n\n  const connection = ConnectionHandler.getConnection(\n    userProxy,\n    'TranslaticiarumList_Translaticiarums',\n  )\n  if ( connection ) {\n    ConnectionHandler.deleteNode( connection, deletedId )\n  }\n}\n\nfunction commit( environment, user, aTranslaticiarum ) {\n  return commitMutation( environment, {\n    mutation,\n    variables: {\n      input: { id: aTranslaticiarum.id },\n    },\n\n    updater( store ) {\n      const payload = store.getRootField( 'TranslaticiarumDelete' )\n      sharedUpdater( store, user, payload.getValue( 'deletedId' ) )\n    },\n\n    optimisticUpdater( store ) {\n      sharedUpdater( store, user, aTranslaticiarum.id )\n    },\n  })\n}\n\nexport default { commit }\n"],"file":"TranslaticiarumDeleteMutation.js"}