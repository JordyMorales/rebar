{"version":3,"sources":["../../../../../units/urb-example-ensayo-server/graphql/mutation/EnsayoAdd.js"],"names":["name","inputFields","Ensayo_Title","type","GraphQLNonNull","GraphQLString","Ensayo_Description","Ensayo_Content","outputFields","EnsayosEdge","EnsayosConnection","edgeType","resolve","local_id","context","rootValue","objectManager","args","an_Object","getOneObject","id","arr","getObjectList","cursor","cursorForObjectInConnection","node","Viewer","ViewerType","parent","getViewerUserId","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA,8D;AACA,uF,yWANA;;AAQe,gDAA6B;AAC1CA,QAAM,WADoC;;AAG1CC,eAAa;AACXC,kBAAc,EAAEC,MAAM,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EADH;AAEXC,wBAAoB,EAAEH,MAAM,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAFT;AAGXE,oBAAgB,EAAEJ,MAAM,IAAIC,uBAAJ,CAAoBC,sBAApB,CAAR,EAHL,EAH6B;;;AAS1CG,gBAAc;AACZC,iBAAa;AACXN,YAAMO,4BAAkBC,QADb;AAEXC,eAAS,OAAM,EAAEC,QAAF,EAAN,QAAiCC,OAAjC,EAA0C,EAAEC,WAAWC,aAAb,EAA1C,KAA2E,KAAlDC,IAAkD;AAClF,cAAMC,YAAY,MAAMF,cAAcG,YAAd,CAA4B,QAA5B,EAAsC;AAC5DC,cAAIP,QADwD,EAAtC,CAAxB;;;AAIA,cAAMQ,MAAM,MAAML,cAAcM,aAAd,CAA6B,QAA7B,EAAuC,EAAvC,CAAlB;;AAEA,eAAO;AACLC,kBAAQP,cAAcQ,2BAAd,CAA2C,QAA3C,EAAqDH,GAArD,EAA0DH,SAA1D,CADH;AAELO,gBAAMP,SAFD,EAAP;;AAID,OAbU,EADD;;;AAiBZQ,YAAQ;AACNvB,YAAMwB,oBADA;AAENf,eAAS,CAAEgB,MAAF,EAAUX,IAAV,EAAgBH,OAAhB,EAAyB,EAAEC,WAAWC,aAAb,EAAzB;AACPA,oBAAcG,YAAd,CAA4B,MAA5B,EAAoC;AAClCC,YAAIJ,cAAca,eAAd,EAD8B,EAApC,CAHI,EAjBI,EAT4B;;;;;AAmC1CC,uBAAqB;AACnB,IAAE5B,YAAF,EAAgBI,kBAAhB,EAAoCC,cAApC,EADmB;AAEnBO,SAFmB;AAGnB,IAAEC,WAAWC,aAAb,EAHmB;AAIhB;AACH,UAAMH,WAAW,MAAMG,cAAce,GAAd,CAAmB,QAAnB,EAA6B;AAClD7B,kBADkD;AAElDI,wBAFkD;AAGlDC,oBAHkD,EAA7B,CAAvB;;AAKA,WAAO,EAAEM,QAAF,EAAP;AACD,GA9CyC,EAA7B,C","file":"EnsayoAdd.js","sourcesContent":["// @flow weak\n\nimport { mutationWithClientMutationId } from 'graphql-relay'\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport EnsayosConnection from '../type/EnsayosConnection'\nimport ViewerType from '../../../../units/urb-base-server/graphql/type/ViewerType'\n\nexport default mutationWithClientMutationId({\n  name: 'EnsayoAdd',\n\n  inputFields: {\n    Ensayo_Title: { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Description: { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Content: { type: new GraphQLNonNull( GraphQLString ) },\n  },\n\n  outputFields: {\n    EnsayosEdge: {\n      type: EnsayosConnection.edgeType,\n      resolve: async({ local_id }, { ...args }, context, { rootValue: objectManager }) => {\n        const an_Object = await objectManager.getOneObject( 'Ensayo', {\n          id: local_id,\n        })\n\n        const arr = await objectManager.getObjectList( 'Ensayo', {})\n\n        return {\n          cursor: objectManager.cursorForObjectInConnection( 'Ensayo', arr, an_Object ),\n          node: an_Object,\n        }\n      },\n    },\n\n    Viewer: {\n      type: ViewerType,\n      resolve: ( parent, args, context, { rootValue: objectManager }) =>\n        objectManager.getOneObject( 'User', {\n          id: objectManager.getViewerUserId(),\n        }),\n    },\n  },\n\n  mutateAndGetPayload: async(\n    { Ensayo_Title, Ensayo_Description, Ensayo_Content },\n    context,\n    { rootValue: objectManager },\n  ) => {\n    const local_id = await objectManager.add( 'Ensayo', {\n      Ensayo_Title,\n      Ensayo_Description,\n      Ensayo_Content,\n    })\n    return { local_id }\n  },\n})\n"]}